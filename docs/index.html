<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8">
<title>Orbit sorting</title>

<link rel="stylesheet" href="chorno-belyi.css">

<!-- web fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400&display=swap" rel="stylesheet"><!-- main body font -->
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@800&display=swap" rel="stylesheet"><!-- heading font -->

<!-- jsDelivr :: Sortable :: Latest (https://www.jsdelivr.com/package/npm/sortablejs) -->
<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

<script>
var orbits = [0, 1, 0, 0];
var orbitColors = ['#33cc55', '#9955bb'];

function setOrbitDisplay() {
  var show = document.getElementById('show-orbits').checked;
  var i;
  for (i = 0; i < orbits.length; i++) {
    document.getElementById('box-' + i).style.backgroundColor = show ? orbitColors[orbits[i]] : '#cccccc';
  }
  document.getElementById('orbit-trivia').style.visibility = show ? 'visible' : 'hidden';
}
</script>

</head>

<body>
<h1>Who wants to be a Belyionaire?</h1>
<div class="intro">
  <div>These four drawings represent <a href="">Belyi maps</a>&mdash;cousins of the Mercator and Peirce projections used to make maps of the globe. Three of them are related by symmetries, and one of them stands alone. Can you spot the odd one out?</div>
  <div class="orbits">
    <div id="orbit-trivia" style="visibility: hidden">In this case, the three related Belyi maps can be described using only rational numbers. For the odd one out, you also need the roots of the polynomial x<sup>3</sup> − x<sup>2</sup> + 2x − 38.</div>
    <div class="orbit-controls">
      <div>
        <input type="checkbox" id="show-orbits" onclick="setOrbitDisplay()"/>
        <label for="show-orbits">Reveal answers</label>
      </div>
      <div>
        <a href="https://beta.lmfdb.org/Belyi/7T6/5.1.1/4.2.1/3.2.2/a"><div class="orbit-link">A</div></a>
        <a href="https://beta.lmfdb.org/Belyi/7T6/5.1.1/4.2.1/3.2.2/b"><div class="orbit-link">B</div></a>
        View on LMFDB
      </div>
    </div>
  </div>
</div>
<h2>Maps to sort</h2>
<div id="tray-0" class="tray"></div>
<div style="display: flex; max-width: 100%">
  <div class="tray-container" style="min-width: 340px; max-width: 340px">
    <h2>The odd one</h2>
    <div id="tray-1" class="tray"></div>
  </div>
  <!--
    setting a min-width gives the container permission to stop growing even if
    its child wants more room. that puts the child into overflow, so in our case
    the child will scroll
    https://gaurav5430.medium.com/css-flex-positioning-gotchas-child-expands-to-more-than-the-width-allowed-by-the-parent-799c37428dd6
  -->
  <div class="tray-container" style="margin-left: 20px; min-width: 0; flex-grow: 1">
    <h2>The related ones</h2>
    <div id="tray-2" class="tray"></div>
  </div>
</div>

<script>
var i;

// make tray contents sortable
for (i = 0; i < 3; i++) {
  new Sortable(document.getElementById('tray-' + i), {group: 'shared', animation: 150});
}

// create boxes
tray = document.getElementById('tray-0');
for (i = 0; i < orbits.length; i++) {
  box = document.createElement('div');
  box.id = 'box-' + i;
  box.innerHTML = i;
  tray.appendChild(box);
}
setOrbitDisplay();
</script>
</body>
</html>
